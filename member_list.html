<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>আমাদের সদস্যগণ - PSTU Islamic Library</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body { font-family: 'Noto Sans Bengali', sans-serif; background-color: #f8fafc; color: #333; line-height: 1.6; }
        .amiri-font { font-family: 'Amiri', serif; }
       
 
        .loading-spinner {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #10b981; /* Tailwind green-500 */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    
     <nav class="sticky top-0 bg-white shadow-md px-4 py-0 grid grid-cols-3 items-center z-50">
  <div class="flex items-center gap-3">
    <img class="w-[60px] h-[60px] md:w-[80px] md:h-[80px]" src="./images/logo.jpg" alt="লোগো" />
  </div>

  <div class="font-bold text-green-800 tracking-tight text-sm md:text-xl justify-self-center">
    বই পড়ুন, জীবন গড়ুন
  </div>

  <button id="menu-toggle" class="text-green-800 text-3xl focus:outline-none justify-self-end">
    <i class="fas fa-bars"></i>
  </button>
</nav>

<!-- Overlay -->
<div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-200 z-40"></div>

<div id="sidebar-menu"
     class="fixed top-0 right-0 w-64 h-full bg-white text-green-800 transform translate-x-full transition-transform duration-300 ease-in-out z-50 shadow-xl">
  <div class="flex justify-between items-center px-6 h-16 md:h-[84px] border-b-4  border-green-200">
    <h2 class="text-xl font-bold">মেনু</h2>
    <button id="close-menu" class="text-green-800 text-3xl hover:text-red-500 transition-colors">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <nav class="mt-8 flex flex-col gap-1">

    <a href="index.html" data-page="index" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors duration-200">
      <i class="fas fa-home text-2xl"></i>
      <span class="text-lg font-semibold">হোম</span>
    </a>
    <a href="books.html" data-page="books" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors duration-200">
      <i class="fas fa-book text-2xl"></i>
      <span class="text-lg font-semibold">বই</span>
    </a>
    <a href="articles.html" data-page="contact" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors duration-200">
     <i class="fa-solid fa-file-pen text-2xl"></i>
      <span class="text-lg font-semibold">আর্টিকেল</span>
    </a>
    
     <a href="notice.html" data-page="about" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors duration-200">
      <i class="fas fa-info-circle text-2xl"></i>
      <span class="text-lg font-semibold"> নোটিশ </span>
    </a>
    
    <a href="about.html" data-page="about" class="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors duration-200">
      <i class="fas fa-info-circle text-2xl"></i>
      <span class="text-lg font-semibold">আমাদের সম্পর্কে</span>
    </a>
    
    
    <a href="login.html" class="flex items-center gap-4 px-6 py-3 mt-4 rounded-lg bg-green-700 text-white hover:bg-green-800 transition-colors duration-200 shadow-lg">
  <i class="fas fa-user-shield text-xl"></i>
  <span class="text-lg font-semibold">এডমিন ড্যাশবোর্ড</span>
</a>

  </nav>
</div>


    
    <header class="text-center py-10 bg-gradient-to-r from-green-700 to-emerald-800 text-white rounded-b-3xl shadow-lg mb-12">
        <h1 class="text-5xl md:text-6xl font-extrabold amiri-font mb-3">PSTU Islamic Library</h1>
        <p class="text-xl md:text-2xl font-medium opacity-90">আমাদের সম্মানিত সদস্যবৃন্দ</p>
    </header>

   <main>
    <h2 class="text-4xl md:text-5xl font-extrabold text-center text-gray-800 mb-12  border-b-4 border-green-600 pb-4 ">
        আমাদের সম্মানিত সদস্যগণ
    </h2>

  <div id="membersContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 justify-around gap-8 mx-8">
        </div>

    <div id="loading" class="flex justify-center items-center py-10">
        <div class="loading-spinner"></div>
        <p class="ml-4 text-xl text-gray-600">সদস্যদের তথ্য লোড হচ্ছে...</p>
    </div>

    <div id="errorMessage" class="hidden text-center py-10 text-red-600 text-xl font-semibold">
        সদস্যদের তথ্য লোড করতে সমস্যা হয়েছে। অনুগ্রহ করে পরে আবার চেষ্টা করুন।
    </div>
    
    <div id="noMembersFound" class="hidden text-center py-10 text-gray-600 text-xl font-semibold">
        বর্তমানে কোনো সদস্যের তথ্য খুঁজে পাওয়া যায়নি।
    </div>
</main>


<footer class="bg-gray-100 text-gray-800 py-12 px-6 md:px-20 mt-20">
  <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
    <!-- About -->
    <div class="space-y-4">
      <h3 class="text-xl font-bold text-green-700 border-b-2 border-green-700 pb-2">আমাদের সম্পর্কে</h3>
      <p class="text-sm leading-relaxed">
        পটুয়াখালী বিজ্ঞান ও প্রযুক্তি বিশ্ববিদ্যালয় (PSTU) এর ইসলামিক লাইব্রেরিটি শিক্ষার্থীদের জ্ঞানার্জনের একটি অনন্য মাধ্যম। আমাদের লক্ষ্য হলো, ইসলামিক বই পাঠের মাধ্যমে একটি আলোকিত ও আদর্শ প্রজন্ম গড়ে তোলা।
      </p>
      <div class="flex space-x-4 mt-4">
        <a href="https://facebook.com/PSTUIslamicLibrary" target="_blank" rel="noopener" aria-label="Facebook" class="text-gray-600 hover:text-green-700 transition-colors duration-300">
          <span class="sr-only">Facebook</span>
          <i class="fab fa-facebook-f text-2xl" aria-hidden="true"></i>
        </a>
        <a href="https://t.me/PSTUIslamicLibrary" target="_blank" rel="noopener" aria-label="Telegram" class="text-gray-600 hover:text-green-700 transition-colors duration-300">
          <span class="sr-only">Telegram</span>
          <i class="fab fa-telegram-plane text-2xl" aria-hidden="true"></i>
        </a>
        <a href="mailto:pstu.islamic.library@email.com" aria-label="Email" class="text-gray-600 hover:text-green-700 transition-colors duration-300">
          <span class="sr-only">Email</span>
          <i class="fas fa-envelope text-2xl" aria-hidden="true"></i>
        </a>
      </div>
    </div>

    <!-- Important Links -->
    <div class="space-y-4">
      <h3 class="text-xl font-bold text-green-700 border-b-2 border-green-700 pb-2">গুরুত্বপূর্ণ লিংক</h3>
      <ul class="space-y-2">
        <li>
          <a href="./form.html" class="hover:text-green-700 transition-colors duration-300 flex items-center">
            <i class="fas fa-chevron-right text-xs mr-2" aria-hidden="true"></i>
            <span>বই ধার করার ফর্ম</span>
          </a>
        </li>
        <li>
          <a href="./member.html" class="hover:text-green-700 transition-colors duration-300 flex items-center">
            <i class="fas fa-chevron-right text-xs mr-2" aria-hidden="true"></i>
            <span>সদস্য হোন</span>
          </a>
        </li>
        <li>
          <a href="./financial_report.html" class="hover:text-green-700 transition-colors duration-300 flex items-center">
            <i class="fas fa-chevron-right text-xs mr-2" aria-hidden="true"></i>
            <span>আর্থিক প্রতিবেদন</span>
          </a>
        </li>
        <li>
          <a href="articles.html" class="hover:text-green-700 transition-colors duration-300 flex items-center">
            <i class="fas fa-chevron-right text-xs mr-2" aria-hidden="true"></i>
            <span>গুরুত্বপূর্ণ আর্টিকেল</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Contact -->
    <div class="space-y-4">
      <h3 class="text-xl font-bold text-green-700 border-b-2 border-green-700 pb-2">যোগাযোগ</h3>
      <ul class="space-y-2 text-sm">
        <li class="flex items-start">
          <i class="fas fa-map-marker-alt mt-1 mr-3 text-green-700" aria-hidden="true"></i>
          <span>পটুয়াখালী বিজ্ঞান ও প্রযুক্তি বিশ্ববিদ্যালয়, দুমকি, পটুয়াখালী, বাংলাদেশ</span>
        </li>
        <li class="flex items-center">
          <i class="fas fa-envelope mr-3 text-green-700" aria-hidden="true"></i>
          <a href="mailto:pstu.islamic.library@email.com" class="underline hover:text-green-700">
            pstu.islamic.library@email.com
          </a>
        </li>
        <li class="flex items-center">
          <i class="fas fa-phone-alt mr-3 text-green-700" aria-hidden="true"></i>
          <a href="tel:+8801700000000" class="underline hover:text-green-700">
            +880 17XX-XXXXXX
          </a>
        </li>
      </ul>
    </div>

   <!-- Newsletter -->
<div class="space-y-4">
  <h3 class="text-xl font-bold text-green-700 border-b-2 border-green-700 pb-2">আমাদের সাথে যুক্ত থাকুন</h3>
  <p class="text-sm">নতুন বই বা আপডেটের খবর পেতে আমাদের সাথে যুক্ত থাকুন।</p>
  <form id="footerFeedbackForm" action="https://script.google.com/macros/s/AKfycbySr0pjgC6hAbOnQrWYmbqxfJ_HNTM9Dumj8hRKJlypxe3Z4IAGpsdzXJNocmYFRtuY/exec" method="POST" class="space-y-4" novalidate aria-live="polite">
    <input type="hidden" name="source" value="footer-newsletter" />
    <input type="hidden" name="timestamp" id="newsletter-timestamp" value="" />
    <label for="newsletter-email" class="sr-only">ইমেইল</label>
    <input id="newsletter-email" type="email" name="email" placeholder="আপনার ইমেল লিখুন" class="w-full px-4 py-2 rounded-lg bg-gray-200 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-700 text-sm placeholder-gray-500 transition-colors duration-300" required />
    <button type="submit" class="w-full bg-green-600 text-white font-semibold py-2 rounded-full hover:bg-green-700 transition-colors duration-300 text-sm">
      <i class="fas fa-envelope mr-2" aria-hidden="true"></i>
      <span>সাবস্ক্রাইব করুন</span>
    </button>
    <div id="subscription-feedback-container" aria-live="polite"></div>
  </form>
</div>
</div>

  <div class="border-t border-gray-300 mt-12 pt-8 text-center text-sm text-gray-500">
    <p>&copy; 2025 PSTU Islamic Library. All Rights Reserved. | Created with ❤️ by
      <a href="https://yourprofile.com" target="_blank" rel="noopener" class="text-green-700 hover:underline">Your Name</a>
    </p>
  </div>
</footer>

 <script>
  document.addEventListener('DOMContentLoaded', () => {
    // আপনার Apps Script Web App URL (deploy করা Exec URL)
    const appScriptURL = "https://script.google.com/macros/s/AKfycbxUYmewQ3tcjodacy0hhxrD51zxlTTsPXfR0-C2f7T2rStIJv_ZsU-kLy-GrDAxtVZ5Fg/exec?callback=renderMembers";

    const membersContainer = document.getElementById('membersContainer');
    const loadingDiv = document.getElementById('loading');
    const errorMessageDiv = document.getElementById('errorMessage');
    const noMembersFoundDiv = document.getElementById('noMembersFound');

    // JSONP callback - এই ফাংশনেই ডেটা রেন্ডার হবে
    window.renderMembers = function(data) {
      loadingDiv.classList.add('hidden');

      if (data.error) {
        errorMessageDiv.textContent = `Error: ${data.error}`;
        errorMessageDiv.classList.remove('hidden');
        return;
      }

if (data.members && data.members.length > 0) {
            data.members.sort((a, b) => a.memberName.localeCompare(b.memberName, 'bn', { sensitivity: 'base' }));

            data.members.forEach(member => {
                const memberCardHtml = `
                    <div class="member-card bg-white rounded-xl shadow-lg hover:shadow-2xl break-all transition-all duration-300 transform hover:-translate-y-2 border border-gray-200">
                        <div class="p-6">
                            <div class="flex items-center mb-4 pb-4 border-b border-gray-200">
                                <i class="fas fa-user-circle text-4xl text-green-600 mr-4"></i>
                                <h3 class="text-2xl font-bold text-gray-900">${member.memberName}</h3>
                            </div>
                            <div class="space-y-4 text-gray-700">
                                <div class="flex items-start">
                                    <i class="fas fa-building text-green-500 w-6 mt-1 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-semibold text-gray-500">ফ্যাকাল্টি</p>
                                        <p class="text-lg text-gray-800">${member.memberFaculty || 'N/A'}</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <i class="fas fa-calendar-alt text-green-500 w-6 mt-1 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-semibold text-gray-500">সেশন</p>
                                        <p class="text-lg text-gray-800">${member.memberSession || 'N/A'}</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <i class="fas fa-university text-green-500 w-6 mt-1 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-semibold text-gray-500">হল</p>
                                        <p class="text-lg text-gray-800">${member.memberHall || 'N/A'}</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <i class="fas fa-envelope text-green-500 w-6 mt-1 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-semibold text-gray-500">ইমেইল</p>
                                        <p class="text-lg text-gray-800">${member.memberEmail || 'N/A'}</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <i class="fas fa-phone-alt text-green-500 w-6 mt-1 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-semibold text-gray-500">ফোন</p>
                                        <p class="text-lg text-gray-800">${member.memberPhone || 'N/A'}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                membersContainer.insertAdjacentHTML('beforeend', memberCardHtml);
            });
        } else {
            noMembersFoundDiv.classList.remove('hidden');
        }

    };

    // JSONP স্ক্রিপ্ট ইনজেকশন
    function loadMembersJsonp() {
      const script = document.createElement('script');
      script.src = appScriptURL;
      script.onerror = () => {
        loadingDiv.classList.add('hidden');
        errorMessageDiv.textContent = "সদস্যদের তথ্য লোড করতে ব্যর্থ হয়েছে।";
        errorMessageDiv.classList.remove('hidden');
      };
      document.body.appendChild(script);

      // fallback: যদি 8 সেকেন্ডে renderMembers না আসে
      setTimeout(() => {
        if (!membersContainer.hasChildNodes() && !errorMessageDiv.classList.contains('hidden')) return;
        if (!membersContainer.hasChildNodes()) {
          loadingDiv.classList.add('hidden');
          noMembersFoundDiv.classList.remove('hidden');
        }
      }, 8000);
    }

    loadMembersJsonp();
  });
</script>


<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('menu-toggle');
        const closeMenu = document.getElementById('close-menu');
        const sidebarMenu = document.getElementById('sidebar-menu');
        const overlay = document.getElementById('sidebar-overlay');
        
        const openSidebar = () => {
            sidebarMenu.classList.remove('translate-x-full');
            overlay.classList.add('opacity-100');
            overlay.classList.remove('pointer-events-none');
            document.body.style.overflow = 'hidden';
        };
        const closeSidebar = () => {
            sidebarMenu.classList.add('translate-x-full');
            overlay.classList.remove('opacity-100');
            overlay.classList.add('pointer-events-none');
            document.body.style.overflow = '';
        };
        
        menuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            openSidebar();
        });
        closeMenu.addEventListener('click', (e) => {
            e.stopPropagation();
            closeSidebar();
        });
        overlay.addEventListener('click', closeSidebar);
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeSidebar();
        });
        sidebarMenu.addEventListener('click', e => e.stopPropagation());
        
        // Active link highlighting based on current path or data-page
        const links = sidebarMenu.querySelectorAll('nav a');
        const currentPath = window.location.pathname.split('/').pop(); // e.g., "books.html"
        links.forEach(link => {
            const href = link.getAttribute('href') || '';
            const pageName = link.dataset.page;
            if (href && currentPath === href) {
                link.classList.add('bg-green-100', 'border-l-4', 'border-green-600', 'pl-3');
            } else if (pageName && currentPath.includes(pageName)) {
                link.classList.add('bg-green-100', 'border-l-4', 'border-green-600', 'pl-3');
            }
        });
    });
</script>

</body>
</html>
